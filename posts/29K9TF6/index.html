<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"powerlzy.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="风控模型  求是汪在路上：多头借贷风险分析与建模 求是汪在路上：抽样对Lift和KS指标的影响 求是汪在路上：客户级通用信用评分模型架构设计 求是汪在路上：大数据信贷风控模型架构 求是汪在路上： 风控模型开发流程标准化 求是汪在路上：风控模型上线部署流程 求是汪在路上：如何量化样本偏差对信贷风控模型的影响 求是汪在路上： 样本权重对逻辑回归评分卡的影响探讨 求是汪在路上：利用样本分群提升风控模型性">
<meta property="og:type" content="article">
<meta property="og:title" content="风控算法（2）风控模型-开发流程标准化*">
<meta property="og:url" content="https://powerlzy.github.io/posts/29K9TF6/index.html">
<meta property="og:site_name" content="PowerLZY&#39;s Blog">
<meta property="og:description" content="风控模型  求是汪在路上：多头借贷风险分析与建模 求是汪在路上：抽样对Lift和KS指标的影响 求是汪在路上：客户级通用信用评分模型架构设计 求是汪在路上：大数据信贷风控模型架构 求是汪在路上： 风控模型开发流程标准化 求是汪在路上：风控模型上线部署流程 求是汪在路上：如何量化样本偏差对信贷风控模型的影响 求是汪在路上： 样本权重对逻辑回归评分卡的影响探讨 求是汪在路上：利用样本分群提升风控模型性">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-ca4ae4880f0369cdfd03bfa3b97cba81_1440w.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-8f7ad96d18789094dab9090cf551a81e_1440w.jpg">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-0b97ea436eb6156939e74bf5126ae3d3_1440w.jpg">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=x_2">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-32d1ec1106b1e58cfcd2ecfe7b0040b5_1440w.jpg">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-2c3cd4f809b68e130f4d6edba31058b8_1440w.jpg">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-d432f6c6916a4e94b698d325ce9d32b7_1440w.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-330e33c4f93c5abef39854964f780d5a_1440w.png">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=psi+%3D+%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%7B%28A_i+-+E_i%29%7D+%2A+ln%28A_i+%2F+E_i%29">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-c9cb1ae5f72f2f6c5dfcb54486f23182_1440w.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-1833a40731ac61e55a38bbd928dc7636_1440w.jpg">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=IV+%3D++%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++-+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%2A+WOE_i+%5C%5C++++%3D%5Csum_%7Bi%3D1%7D%5E%7Bn%7D+%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++-+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%2Aln%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++%2F+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%5C%5C+">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-2097685ef366bb9df0f6b8944c416aba_1440w.png">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=err_%7BOOB1%7D">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=err_%7BOOB2%7D">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5E%7BN%7D%28err_%7BOOB2%7D-err_%7BOOB1%7D%29%7D%7BN%7D">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-7457883119e561b64bae7ef3d49340ff_1440w.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-f93b791196087e503a2da4b12a26b84a_1440w.jpg">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=%28X_1%EF%BC%8CX_2%29">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=%5B-1.0%2C1.0%5D">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=%5Crho_%7BX%2CY%7D%3D%5Cfrac%7Bcov%28X%2CY%29%7D%7B%5Csigma_X%5Csigma_Y%7D%5C%5C%3D%5Cfrac%7BE%28%28X-%5Cbar+X%29%28Y-%5Cbar+Y%29%29%7D%7B%5Csqrt%7B%5Csum%5Climits_%7Bi%3D1%7D%5En%28X_i-%5Cbar+X%29%5E2%7D+%5Csqrt%7B+%5Csum%5Climits_%7Bi%3D1%7D%5En%28Y_i-%5Cbar+Y%29%5E2%7D%7D+%5C%5C%3D+%5Cfrac%7BE%28XY%29-E%28X%29%28Y%29%7D%7B%5Csqrt%7BE%28X%5E2%29-E%5E2%28X%29%7D%5Csqrt%7BE%28Y%5E2%29-E%5E2%28Y%29%7D%7D+%5C%5C">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-17f049f47e262d45614a016289def3eb_1440w.jpg">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=X_1%2C+X_2%2C+%5Ccdots+%2C+X_n">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=c_1%2Cc_2%2C+%5Ccdots%2C+c_n">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=c_1X_1+%2B+c_2X_2+%2B+%5Ccdots+%2B+c_nX_n+%5Capprox+0%5C%5C">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=N">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=1">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=N-1">
<meta property="og:image" content="https://www.zhihu.com/equation?tex=X_1%2C+X_2%2C+%5Ccdots+%2C+X_n">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-6b5e626a0af1ae9f595f25fb8fb9b10b_1440w.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-e08616047f86d2e6011528e45df62eb9_1440w.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-3f95842ee9ac7568cfd1147552471481_1440w.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-ed926c29a728c4e8f42b881af25c319d_1440w.png">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-b5e5d64f96906eeaa78e8ac6ebf80098_1440w.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-952042e2835b7a3b4458d3fd763b6e15_1440w.png">
<meta property="og:image" content="https://pic3.zhimg.com/80/v2-649ad86e09b8f5fc09dc224a6a1fb6ea_1440w.jpg">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-169d5023b834416495810435e8c9b11b_1440w.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-32f4f004276a03f1adb5046d4ea40d91_1440w.jpg">
<meta property="article:published_time" content="2022-07-01T11:28:02.333Z">
<meta property="article:modified_time" content="2022-07-09T10:14:42.130Z">
<meta property="article:author" content="lzy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic2.zhimg.com/80/v2-ca4ae4880f0369cdfd03bfa3b97cba81_1440w.jpg">


<link rel="canonical" href="https://powerlzy.github.io/posts/29K9TF6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://powerlzy.github.io/posts/29K9TF6/","path":"posts/29K9TF6/","title":"风控算法（2）风控模型-开发流程标准化*"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>风控算法（2）风控模型-开发流程标准化* | PowerLZY's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">PowerLZY's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">本博客主要用于记录个人学习笔记（测试阶段）</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">风控模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-text">一、风控模型开发流程标准化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">风控业务背景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.1
风控模型开发流程标准化的意义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.2 功能模块 -
探索性数据分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.2.1
探索数据分布（Exploratory Data Distribution，EDD）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.2.2 缺失率（Missing
Rate）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.2.3 重复值（Duplicate
Value）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.2.4 单一值（Unique
Value）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.2.5
其他数据质量检查（QC）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.3 功能模块 -
特征选择</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.3.1 业务指标包括：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.3.2 技术指标包括：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link"><span class="nav-text">功能：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.4 功能模块 -
模型训练</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.4.1 WOE转换（Weight of
Evidence）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.4.2 样本权重（Sample
Weight）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">不同的样本权重主要有几个目的：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">&#x3D;&#x3D;业务角度（主观性强，操作性高）：&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">技术角度（操作性复杂，可解释性弱）：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">拒绝演绎（Reject
Inference）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">参数估计（Parameter
Estimation）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">分数校准（Calibration）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">模型保存（Save Model）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.5 功能模块 -
模型评估</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.5.1 稳定性（Stability）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.5.2
区分度（Discrimination）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.5.3 排序性（Ranking）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.5.4 拟合度（Goodness of
Fit）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-text">1.6 开源的风控建模工具包简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.6.1 feature-selector</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.6.2 scorecardpy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text">1.6.3 toad</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lzy"
      src="/images/cat_mac.jpg">
  <p class="site-author-name" itemprop="name">lzy</p>
  <div class="site-description" itemprop="description">相比到达的地方，同行的人更重要！</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">254</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/PowerLZY" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;PowerLZY" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:3289218653@qq.com" title="E-Mail → mailto:3289218653@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://powerlzy.github.io/posts/29K9TF6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/cat_mac.jpg">
      <meta itemprop="name" content="lzy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PowerLZY's Blog">
      <meta itemprop="description" content="相比到达的地方，同行的人更重要！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="风控算法（2）风控模型-开发流程标准化* | PowerLZY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          风控算法（2）风控模型-开发流程标准化*
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-01 19:28:02" itemprop="dateCreated datePublished" datetime="2022-07-01T19:28:02+08:00">2022-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-09 18:14:42" itemprop="dateModified" datetime="2022-07-09T18:14:42+08:00">2022-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E3%80%90draft%E3%80%91%E5%BA%94%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">【draft】应用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E3%80%90draft%E3%80%91%E5%BA%94%E7%94%A8/%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" itemprop="url" rel="index"><span itemprop="name">应用场景</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E3%80%90draft%E3%80%91%E5%BA%94%E7%94%A8/%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/%E4%B8%9A%E5%8A%A1%E5%AE%89%E5%85%A8/" itemprop="url" rel="index"><span itemprop="name">业务安全</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>16 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1><span id="风控模型">风控模型</span></h1>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/109649516">求是汪在路上：多头借贷风险分析与建模</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/252845718">求是汪在路上：抽样对Lift和KS指标的影响</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/161009991">求是汪在路上：客户级通用信用评分模型架构设计</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/90214329">求是汪在路上：大数据信贷风控模型架构</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/90251922">求是汪在路上：<strong><font color="red">
风控模型开发流程标准化</font></strong></a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/92691256">求是汪在路上：风控模型上线部署流程</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/350616539">求是汪在路上：如何量化样本偏差对信贷风控模型的影响</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/110982479">求是汪在路上：<strong><font color="red">
样本权重对逻辑回归评分卡的影响探讨</font></strong></a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/85976154">求是汪在路上：利用样本分群提升风控模型性能</a></p>
</blockquote>
<h2><span id="一-风控模型开发流程标准化">一、风控模型开发流程标准化</span></h2>
<h3><span id="风控业务背景"><strong>风控业务背景</strong></span></h3>
<p>在大型风控建模项目中，模型开发阶段实际上只占其中很小的一部分，我们常把大量精力投入在数据准备、特征工程、模型设计等阶段。同时，开发阶段所用方法重复性相对较高。如果将其模块化封装，可大大提高建模效率。Don‘t
repeat yourself！</p>
<figure>
<img src="https://pic2.zhimg.com/80/v2-ca4ae4880f0369cdfd03bfa3b97cba81_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>本文主要内容在于：</p>
<ol type="1">
<li>理论角度，系统阐述了风控模型开发流程，以及相应的理论依据。</li>
<li>实践角度，整理了目前一些开源工具包，可供大家自行选择使用。</li>
</ol>
<h3><span id="11风控模型开发流程标准化的意义"><strong>1.1
风控模型开发流程标准化的意义</strong></span></h3>
<p>在《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/90214329">大数据信贷风控模型架构</a>》一文中，我们系统探讨了大数据风控模型架构的优缺点。从该架构出发，基于历次大型模型开发项目实践，我们往往会发现存在以下问题：</p>
<ol type="1">
<li>各建模同学的工程能力存在差异，无法保证所有人都有代码优化及debug的能力。</li>
<li>整个流程不规范统一，某些同学不清楚基础指标函数的底层逻辑，出现问题难以定位。</li>
<li>浪费大量时间用于协调沟通，尤其是过程文档记录参差不齐，无法复现。</li>
<li><strong>建模脚本可能存在多个版本，模型版本管理困难</strong>。</li>
</ol>
<p>风控模型开发流程标准化的意义在于：</p>
<ol type="1">
<li>提高建模效率：可批量快速生产模型，保证项目按期完成，同时让建模同学更有精力关注模型优化分析等复杂工作。</li>
<li>理解计算逻辑：帮助团队更为深刻理解各类评估指标背后的业务含义，便于调试优化。</li>
<li><strong>统一建模流程</strong>：约定命名方式。保证在分工协作的情况下，模型开发文档更容易整合汇总，便于Review。</li>
<li>流程规范约束：减少建模同学（尤其是新手）出错的概率，降低返工可能，并记录必要的中间过程，便于问题回溯。</li>
</ol>
<p>由于经常需要跨时间窗来分析变量，我们约定以下名词：</p>
<ul>
<li><strong>样本集</strong>：训练集（In the Sample，INS）、验证集（Out
of Sample，OOS）、测试集（Out of Time，OOT）</li>
<li><strong>自然月</strong>：由于风控领域中样本相对较少，一般按月粒度来观察。对于某段时间内的样本，我们也称为cohort或vintage。通俗而言，就是一个批次（batch）。</li>
</ul>
<h3><span id="12-功能模块-探索性数据分析"><strong>1.2 功能模块 -
探索性数据分析</strong></span></h3>
<p><strong>探索性数据分析（Exploratory Data
Analysis，EDA）用于初步检验数据质量，因此需要计算各类数据特征指标。</strong></p>
<blockquote>
<ul>
<li>探索数据分布（Exploratory Data Distribution，EDD）</li>
<li>缺失率（Missing Rate）</li>
<li>重复值（Duplicate Value）</li>
<li>单一值（Unique Value）</li>
<li>其他数据质量检查（Quality Check）</li>
</ul>
</blockquote>
<h4><span id="121探索数据分布exploratory-data-distributionedd">1.2.1
探索数据分布（Exploratory Data Distribution，EDD）</span></h4>
<p><strong>功能</strong>：按自然月/样本集维度，统计变量的数据分布。</p>
<p><strong>指标</strong>：</p>
<ul>
<li>连续型变量，包括：数量(count)、均值(mean)、标准差(std)、最小值(min)、分位数P25、P50、P75、最大值(max)。其中，最大值和最小值可用来观察异常值（outlier）。</li>
<li>离散型变量，包括：取值及出现次数(cnt)、占比(ratio)。</li>
</ul>
<p><strong>示例</strong>：连续变量数据分布（月维度)、离散变量数据分布</p>
<figure>
<img src="https://pic3.zhimg.com/80/v2-8f7ad96d18789094dab9090cf551a81e_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="https://pic4.zhimg.com/80/v2-0b97ea436eb6156939e74bf5126ae3d3_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><strong>业务含义</strong>：基于“<strong>历史与未来样本分布相同</strong>”的建模假设，我们才能基于历史数据拟合X和Y之间的关系来预测未来。因此，在变量分布上，首先需要保证这一点。</li>
</ul>
<p>从图1中，我们可以观察分位数的变化差异。例如，变量 <img src="https://www.zhihu.com/equation?tex=x_2" alt="[公式]">
在2018年1月时最大值异常，其余月份均正常。此时，我们就需要检查：数据源是否存在问题？变量回溯过程是否出错？</p>
<h4><span id="122-缺失率missingrate">1.2.2 <strong>缺失率（Missing
Rate）</strong></span></h4>
<p>功能：<strong>按自然月/样本集维度，统计变量的缺失率。</strong></p>
<p>指标：缺失率 = 未覆盖样本数 / 总样本数 × 100%</p>
<figure>
<img src="https://pic2.zhimg.com/80/v2-32d1ec1106b1e58cfcd2ecfe7b0040b5_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>业务：</p>
<ul>
<li>用于分析数据源的缺失率，以及未来的采集率趋势。如果缺失率持续升高，我们就认为这块数据不可用。</li>
<li>造成缺失的原因多种多样，可分为随机缺失和非随机缺失。例如，如果是用户自填信息，用户主观不愿意填写而导致数据缺失，属于非随机缺失。</li>
</ul>
<h4><span id="123-重复值duplicatevalue">1.2.3 <strong>重复值（Duplicate
Value）</strong></span></h4>
<p>功能：检验建模样本中是否有重复数据。</p>
<p>指标：按样本ID分组后，统计行数</p>
<figure>
<img src="https://pic1.zhimg.com/80/v2-2c3cd4f809b68e130f4d6edba31058b8_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>业务：观察相同订单的特征变量取值是否一致。取值相同，只需简单去重；否则，说明生成逻辑有误，需检查SQL逻辑。</p>
<h4><span id="124-单一值uniquevalue">1.2.4 <strong>单一值（Unique
Value）</strong></span></h4>
<p>功能：统计变量中某一固定值的占比。</p>
<p>指标：变量每个取值的出现次数。</p>
<p>示例：变量中0的取值占到70%.</p>
<p><strong>业务：如果变量取值中某一固定值占比很高，那么该变量区别度往往很低。通常，单一值比例超过90%以上，建议删除该变量。</strong></p>
<h4><span id="125其他数据质量检查qc"><strong>1.2.5
其他数据质量检查（QC）</strong></span></h4>
<p>变量取值本身具有某些业务含义，我们需要结合业务来检验，并记录归档。例如：</p>
<ul>
<li>特殊值归档说明：例如-9999999是代表缺失，还是其他含义，需给出描述说明。</li>
<li>0的业务逻辑确认：真实值为0？数据缺失？默认填充值？</li>
</ul>
<h3><span id="13-功能模块-特征选择">1.3 <strong>功能模块 -
特征选择</strong></span></h3>
<p>根据RFM特征体系，我们可以构造成千上万个特征变量（参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/85440355">风控特征—时间滑窗统计特征体系</a>》）。但是，这些变量并不都满足我们的要求，<strong><font color="red">
我们需要剔除不符合要求的变量，从输入上保证风控系统的鲁棒性。</font></strong></p>
<p>变量筛选（selection）是一个比较复杂的精细活，需要考虑很多因素，比如：<strong>预测能力、相关性、稳定性、合规性、业务可解释性</strong>等等。考虑不同维度，我们会依据一系列指标进行变量筛选。</p>
<p>从广义上，可分为业务指标和技术指标两大类。</p>
<h4><span id="131-业务指标包括">1.3.1 <strong>业务指标</strong>包括：</span></h4>
<ol type="1">
<li><strong>合规性(compliant)</strong>：用以加工变量的数据源是否符合国家法律法规？是否涉及用户隐私数据？例如，如果某块爬虫数据被监管，那么相关变量的区分度再好，我们也只能弃用。而在国外，种族、性别、宗教等变量被禁止用于信贷风控中，这会存在歧视性。</li>
<li><strong>可得性(available)</strong>：数据未来是否能继续采集？这就涉及产品流程设计、用户授权协议、合规需求、模型应用环节等诸多方面。例如，如果产品业务流程改动而导致某个埋点下线，那么相关埋点行为变量只能弃用。又比如，如果需要做额度授信模型，那么只能利用在额度阶段能采集到的实时数据，这就需要提前确认数据采集逻辑。</li>
<li><strong>稳定性(stable)</strong>：一方面，数据源采集稳定是变量稳定性的基本前提。例如，外部数据常会因为政策性、技术性等原因导致接入不稳定，这就需要做好数据缓存，或者模型降级机制。另一方面，变量取值分布变化是导致不稳定的直接原因。我们将会采取一些技术指标展开分析，下文将会介绍。</li>
<li><strong>可解释性(interpretable)</strong>：需要符合业务可解释性。如果变量的业务逻辑不清晰，那么我们宁可弃之。同时，这也是保证模型可解释性（参数
+ 变量）的前提。</li>
<li><strong>逻辑性(logical)</strong>：也就是因果逻辑，特征变量是因，风控决策是果。如果某个变量是风控系统决策给出的，那么我们就不能入模。例如，用户历史申贷订单的利率是基于上一次风控系统决策的结果，如果将“用户历史申贷订单的利率”作为变量，那么在实际使用时就会有问题。</li>
<li><strong>可实时上线</strong>：模型最终目的是为了上线使用。如果实时变量不支持加工，那么对应的离线变量就只能弃之。例如，某个离线变量在统计时限定观察期为180天，但线上只支持观察期为90天，那么就不可用。对于不熟悉线上变量加工逻辑的新手，往往容易踩坑而导致返工。</li>
</ol>
<h4><span id="132-技术指标包括">1.3.2 <strong>技术指标</strong>包括：</span></h4>
<blockquote>
<p>基于缺失率（Missing Rate） 基于变异系数（Coefficient of
Variation，CV） 基于稳定性（Population Stability Index，PSI）
基于信息量（Information Value，IV） 基于RF/XGBoost特征重要性（Feature
Importance） 变量聚类（Variable Cluster，VarClus）
基于线性相关性（Linear Correlation） 基于多重共线性（Multicollinearity）
基于逐步回归（stepwise) 基于P-Vaule显著性检验</p>
</blockquote>
<ul>
<li><strong>基于缺失率（Missing Rate）</strong></li>
</ul>
<p><strong>业务：</strong>变量缺失率越高，可利用价值越低。缺失率变化不稳定的变量，尤其是缺失率趋势在升高，代表未来数据源采集率下降，不建议采用。数据源是特征变量的基础，数据源不稳定，直接导致模型稳定性变差。</p>
<h5><span id="功能">功能：</span></h5>
<blockquote>
<p>step 1.
按自然月/样本集维度，统计变量缺失率，并计算缺失率的均值、标准差。 step
2. 根据实际场景，设置阈值（如50%、70%、90%）进行筛选。</p>
</blockquote>
<figure>
<img src="https://pic4.zhimg.com/80/v2-d432f6c6916a4e94b698d325ce9d32b7_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><strong>基于变异系数（Coefficient of Variation，CV）</strong></li>
</ul>
<p><strong>业务</strong>：变异系数越小，代表波动越小，稳定性越好。缺点在于CV没有统一的经验标准。</p>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1.
基于数据分布EDD，选择某个指标（如均值mean）计算变异系数CV，用来衡量变量分布的稳定性。
step 2. 设置阈值进行筛选。</p>
</blockquote>
<p><strong>指标</strong>：变异系数 C·V =（ 标准偏差 SD / 平均值Mean ）×
100%</p>
<ul>
<li><strong>基于稳定性（Population Stability Index，PSI）</strong></li>
</ul>
<p><strong>业务</strong>：需分申请层、放款层，分别评估变量稳定性。通常会选择0.1作为阈值，只要任意一个不满足稳定性要求就弃用。PSI无法反映很多细节原因，比如分布是右偏还是左偏。此时需要从EDD上进行分析。</p>
<figure>
<img src="https://pic3.zhimg.com/80/v2-330e33c4f93c5abef39854964f780d5a_1440w.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1. 以训练集（INS）分布为期望分布，计算变量的群体稳定性指标PSI。
step 2. 根据PSI的经验阈值进行筛选。</p>
</blockquote>
<p><strong>指标</strong>： <img src="https://www.zhihu.com/equation?tex=psi+%3D+%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%7B%28A_i+-+E_i%29%7D+%2A+ln%28A_i+%2F+E_i%29" alt="[公式]"></p>
<p>上式含义为：PSI = SUM( (实际占比 - 预期占比）* ln(实际占比 /
预期占比)
);预期占比是指训练集上每个分箱里的样本占比，实际占比是待比较样本集的每个分箱里的样本占比。可参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/79682292">群体稳定性指标(PSI)深入理解应用</a>》。</p>
<figure>
<img src="https://pic3.zhimg.com/80/v2-c9cb1ae5f72f2f6c5dfcb54486f23182_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li>==<strong>基于信息量（Information Value，IV）</strong>==</li>
</ul>
<p><strong>业务</strong>：<strong>用以评估变量的预测能力</strong>。通常情况下，IV越高，预测能力越强。但IV过高时，我们就要怀疑是否发生信息泄漏（leakage）问题，也就是在自变量X中引入了Y的信息。</p>
<figure>
<img src="https://pic3.zhimg.com/80/v2-1833a40731ac61e55a38bbd928dc7636_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1. 按自然月/样本集维度，统计变量的IV。 step 2.
根据IV的经验阈值来筛选。</p>
</blockquote>
<p><strong>指标</strong>：IV。可参考<strong>《</strong><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80134853">WOE与IV指标的深入理解应用</a><strong>》</strong></p>
<figure>
<img src="https://www.zhihu.com/equation?tex=IV+%3D++%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++-+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%2A+WOE_i+%5C%5C++++%3D%5Csum_%7Bi%3D1%7D%5E%7Bn%7D+%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++-+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%2Aln%28%5Cfrac%7BBad_i%7D%7BBad_T%7D++%2F+%5Cfrac%7BGood_i%7D%7BGood_T%7D%29+%5C%5C+" alt="[公式]">
<figcaption aria-hidden="true">[公式]</figcaption>
</figure>
<figure>
<img src="https://pic3.zhimg.com/80/v2-2097685ef366bb9df0f6b8944c416aba_1440w.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li>==<strong>基于RF/XGBoost特征重要性</strong>==</li>
</ul>
<p><strong>业务</strong>：在特征变量特别多的时候，可用于快速筛选特征。从机器学习可解释性角度而言，特征重要性只具有全局可解释性，无法对单个case给出解释。</p>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1. 根据树模型训练后给出的特征重要性，一般选择累积重要性Top
95%的变量。 step 2.
为降低一次训练所导致的随机性影响，可综合多次结果来筛选。</p>
</blockquote>
<p>指标：特征重要性。XGBoost实现中Booster类get_score方法输出特征重要性，其中
importance_type参数支持三种特征重要性的计算方法：</p>
<blockquote>
<ol type="1">
<li><strong>weight（默认值）：使用特征在所有树中作为划分属性的次数。</strong></li>
<li><strong>gain：使用特征在作为划分属性时，OBj的平均降低量。</strong></li>
<li><strong>cover：使用特征在作为划分属性时对样本的覆盖度。</strong></li>
</ol>
</blockquote>
<p><strong>RF中计算特征重要度的主要思想：影响力分析</strong>。如果某个输入变量产生扰动，导致模型系统输出性能（利用袋外数据OOB的准确率来评估）产生明显影响，那么说明输入变量对系统具有较大的影响力，特征重要度比较高。</p>
<p>执行步骤为：</p>
<blockquote>
<p>step 1. 基准性能：对每一颗决策树，选择相应的袋外数据计算误差，记为
<img src="https://www.zhihu.com/equation?tex=err_%7BOOB1%7D" alt="[公式]"> ； step 2.
输入扰动：随机对袋外数据所有样本的特征加入噪声干扰(如白噪声)，再次计算袋外数据误差，记为
<img src="https://www.zhihu.com/equation?tex=err_%7BOOB2%7D" alt="[公式]"> ； step 3. 重要度计算： <img src="https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5E%7BN%7D%28err_%7BOOB2%7D-err_%7BOOB1%7D%29%7D%7BN%7D" alt="[公式]"> ，N为随机森林中决策树的棵数。</p>
</blockquote>
<figure>
<img src="https://pic4.zhimg.com/80/v2-7457883119e561b64bae7ef3d49340ff_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><strong>变量聚类（Variable Cluster，VarClus）</strong></li>
</ul>
<p><strong>业务</strong>：在SAS中对应Proc VarClus方法。</p>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1. 列聚类，将所有变量进行层次聚类。 step 2.
根据聚类结果，剔除IV相对较低的变量。</p>
</blockquote>
<p><strong>指标</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> FeatureAgglomeration</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line">    </span><br><span class="line">X_Scale = preprocessing.StandardScaler().fit_transform(input_df[var_list])</span><br><span class="line">ward = FeatureAgglomeration(n_clusters=n_clusters, linkage=<span class="string">&#x27;ward&#x27;</span>)</span><br><span class="line">ward.fit(X_Scale)</span><br><span class="line">clusters = <span class="built_in">list</span>(ward.labels_)</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://pic3.zhimg.com/80/v2-f93b791196087e503a2da4b12a26b84a_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><strong>基于线性相关性（Linear Correlation）</strong></li>
</ul>
<p><strong>业务</strong>：逻辑回归作为一种线性模型，其基础假设是：自变量
<img src="https://www.zhihu.com/equation?tex=%28X_1%EF%BC%8CX_2%29" alt="[公式]">
之间应相互独立。当两变量间的相关系数大于阈值时（一般阈值设为0.6)，剔除IV值较低的变量。</p>
<p><strong>功能</strong>：</p>
<blockquote>
<p>step 1. 计算变量的线性相关性。 step 2.
<strong>相关性较高的多个变量里，保留IV较高的变量。</strong></p>
</blockquote>
<p><strong>指标</strong>：<strong>皮尔逊相关系数（Pearson Correlation
Coefficient）</strong>，系数的取值为<img src="https://www.zhihu.com/equation?tex=%5B-1.0%2C1.0%5D" alt="[公式]">，两变量相关系数越接近0，说明线性相关性越弱；越接近1或-1，说明线性相关性越强。</p>
<figure>
<img src="https://www.zhihu.com/equation?tex=%5Crho_%7BX%2CY%7D%3D%5Cfrac%7Bcov%28X%2CY%29%7D%7B%5Csigma_X%5Csigma_Y%7D%5C%5C%3D%5Cfrac%7BE%28%28X-%5Cbar+X%29%28Y-%5Cbar+Y%29%29%7D%7B%5Csqrt%7B%5Csum%5Climits_%7Bi%3D1%7D%5En%28X_i-%5Cbar+X%29%5E2%7D+%5Csqrt%7B+%5Csum%5Climits_%7Bi%3D1%7D%5En%28Y_i-%5Cbar+Y%29%5E2%7D%7D+%5C%5C%3D+%5Cfrac%7BE%28XY%29-E%28X%29%28Y%29%7D%7B%5Csqrt%7BE%28X%5E2%29-E%5E2%28X%29%7D%5Csqrt%7BE%28Y%5E2%29-E%5E2%28Y%29%7D%7D+%5C%5C" alt="[公式]">
<figcaption aria-hidden="true">[公式]</figcaption>
</figure>
<figure>
<img src="https://pic4.zhimg.com/80/v2-17f049f47e262d45614a016289def3eb_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><strong>基于多重共线性（Multicollinearity）</strong></li>
</ul>
<p>对于自变量<img src="https://www.zhihu.com/equation?tex=X_1%2C+X_2%2C+%5Ccdots+%2C+X_n" alt="[公式]">，如果存在不全为0的系数<img src="https://www.zhihu.com/equation?tex=c_1%2Cc_2%2C+%5Ccdots%2C+c_n" alt="[公式]">，使得以下线性等式近似成立:</p>
<figure>
<img src="https://www.zhihu.com/equation?tex=c_1X_1+%2B+c_2X_2+%2B+%5Ccdots+%2B+c_nX_n+%5Capprox+0%5C%5C" alt="[公式]">
<figcaption aria-hidden="true">[公式]</figcaption>
</figure>
<p>换言之，对于 <img src="https://www.zhihu.com/equation?tex=N" alt="[公式]"> 个变量，其中 <img src="https://www.zhihu.com/equation?tex=1" alt="[公式]">
个可以由剩下的 <img src="https://www.zhihu.com/equation?tex=N-1" alt="[公式]"> 个变量线性表示。此时，我们就称自变量<img src="https://www.zhihu.com/equation?tex=X_1%2C+X_2%2C+%5Ccdots+%2C+X_n" alt="[公式]">具有较强的多重共线性。</p>
<p><strong><font color="red">
当出现多重共线性时，变量之间的联动关系会导致估计标准差偏大，置信区间变宽。这就会产生一个常见的现象，LR中变量系数出现正负号不一致。</font></strong></p>
<p>业务：VIF取值的业务含义为：</p>
<blockquote>
<p>若VIF &lt; 3，说明基本不存在多重共线性问题 若VIF &gt;
10，说明问题比较严重。</p>
</blockquote>
<p>功能：</p>
<blockquote>
<p>step 1. <strong>计算变量的方差膨胀因子（Variance Inflation
Factor，VIF），适用于线性模型。</strong> step 2.
根据阈值剔除VIF较高的变量。</p>
</blockquote>
<p>指标：通常用VIF衡量一个变量和其他变量的多重共线性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from statsmodels.stats.outliers_influence import variance_inflation_factor</span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure>
<img src="https://pic4.zhimg.com/80/v2-6b5e626a0af1ae9f595f25fb8fb9b10b_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li><p><strong>基于逐步回归（stepwise)</strong></p>
<ul>
<li><p>前向选择（forward
selection）：逐步加入变量，计算指标进行评估，若不合格则不加入，直到评估完所有变量。</p></li>
<li><p>后向选择（backward
selection）：初始时加入所有变量，根据指标逐渐剔除不合格的变量。</p></li>
<li><p>逐步选择（stepwise）：将向前选择和向后选择的结合，逐步放入最优的变量、移除最差的变量。</p></li>
</ul></li>
<li><p><strong>基于P-Vaule显著性检验</strong></p></li>
</ul>
<p>业务：根据逻辑回归参数估计表，剔除P值大于0.05的变量。</p>
<p>功能：</p>
<blockquote>
<p>step 1. 用于检验自变量X与因变量Y之间的相关性。 step 2.
剔除P值大于0.05的变量。</p>
</blockquote>
<p>指标：P-Vaule。在变量相关分析中，对相关系数进行假设检验时：</p>
<blockquote>
<p>原假设H0：自变量与因变量之间线性无关。
备择假设H1：自变量与因变量之间线性相关。</p>
</blockquote>
<p>或许不太恰当，但通常当P值大于0.05时，接受原假设，否则拒绝原假设。因此，我们需要剔除P值大于0.05的变量。</p>
<figure>
<img src="https://pic2.zhimg.com/80/v2-e08616047f86d2e6011528e45df62eb9_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h3><span id="14-功能模块-模型训练">1.4 <strong>功能模块 -
模型训练</strong></span></h3>
<p>该模块主要包括<strong>变量变换（如分箱）</strong>、<strong>样本准备（包括样本赋权、拒绝推断等）</strong>、<strong>模型参数估计</strong>、<strong>模型分数校准</strong>、<strong>模型文件保存</strong>等功能。</p>
<h4><span id="141-woe转换weight-ofevidence">1.4.1 <strong>WOE转换（Weight of
Evidence）</strong></span></h4>
<p><strong>业务：训练集上的WOE曲线需满足单调性，并且经过跨时间窗验证WOE变换逻辑同样满足单调性。如果不满足，那就需要再次调整。</strong></p>
<p><strong>功能：在评分卡模型中用于变量WOE变换，支持等频、等距、自定义间距等分箱操作。</strong></p>
<p>原理：可参考<strong>《</strong><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80134853">WOE与IV指标的深入理解应用</a><strong>》</strong></p>
<p>示例：</p>
<figure>
<img src="https://pic2.zhimg.com/80/v2-3f95842ee9ac7568cfd1147552471481_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h4><span id="142-样本权重sampleweight">1.4.2 <strong>样本权重（Sample
Weight）</strong></span></h4>
<p><strong>功能：给建模样本赋予权重列，以逼近总体样本。</strong></p>
<p><strong>原理：建模本质在于从历史样本中学习未来样本的数理统计规律。</strong></p>
<h4><span id="不同的样本权重主要有几个目的"><strong>不同的样本权重主要有几个目的：</strong></span></h4>
<ul>
<li>为了让模型更稳健，一般都是拿近期样本refit模型，但上线后没几个月很快就衰减了，说明训练样本有偏程度比较高，不够代表总体。</li>
<li>早期的历史样本都是拿钱换来的，如何把这部分样本利用起来，不浪费。</li>
</ul>
<h4><span id="业务角度主观性强操作性高"><strong>==业务角度（主观性强，操作性高）：==</strong></span></h4>
<ul>
<li>按时间因素，近期样本提高权重，较远样本降低权重</li>
<li>按贷款类型，不同额度、利率、期限的样本赋予不同权重</li>
<li>按样本分群，不同群体赋予不同权重</li>
</ul>
<h4><span id="技术角度操作性复杂可解释性弱"><strong>技术角度（操作性复杂，可解释性弱）：</strong></span></h4>
<ul>
<li>借鉴Adaboost思想，对误判样本提高权重</li>
<li>过采样、欠采样、SMOTE等</li>
</ul>
<h4><span id="拒绝演绎rejectinference"><strong>拒绝演绎（Reject
Inference）</strong></span></h4>
<p>功能：样本偏差将会导致模型估计过于乐观。通过推断拒绝样本的贷后表现，加入建模样本，可降低放贷建模样本与申请作用样本之间的偏差。</p>
<p>原理：参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/88624987">风控建模中的样本偏差与拒绝推断</a>》</p>
<h4><span id="参数估计parameterestimation"><strong>参数估计（Parameter
Estimation）</strong></span></h4>
<p><strong>功能：支持机器学习模型（如随机森林、GBDT、XGBoost、LightGBM等）调参、评分卡模型逐步回归（stepwise）。</strong></p>
<p>原理：LR采用最大似然估计进行参数估计。而机器学习模型的超参数较多，通常需要借助网格搜索（grid
search）、贝叶斯调参等技术，降低对人工经验的依赖。</p>
<h4><span id="分数校准calibration"><strong>分数校准（Calibration）</strong></span></h4>
<p>功能：其一，一致性校准，将模型预测概率校准到真实概率。其二，尺度变换，将风险概率转换为平时所见的整数分数。</p>
<p>原理：参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/82670834">信用评分卡模型分数校准</a>》</p>
<h4><span id="模型保存save-model"><strong>模型保存（Save Model）</strong></span></h4>
<p>功能：将模型（参数+结构）保存为pkl和pmml文件，用以最终上线部署。注意需要给不同版本的模型赋予易于辨识、含义清晰的命名。一般建议至少包含以下内容：</p>
<blockquote>
<p>命名 = 生成日期+责任人+业务线+应用环节+版本号
例如：20190101_小王_有钱花_额度授信_V1.pmml</p>
</blockquote>
<p>原理：参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/92691256">风控模型上线部署流程</a>》</p>
<h3><span id="15-功能模块-模型评估">1.5 <strong>功能模块 -
模型评估</strong></span></h3>
<p>在实际业务实践中，我们对风控模型的衡量维度主要包括以下几个方面：</p>
<blockquote>
<ul>
<li>稳定性（Stability）</li>
<li>区分度（Discrimination）</li>
<li>排序性（Ranking）</li>
<li>拟合度（Goodness of Fit）</li>
</ul>
</blockquote>
<h4><span id="151-稳定性stability">1.5.1 <strong>稳定性（Stability）</strong></span></h4>
<p>业务：在风控中，稳定性压倒一切。PSI取值所对应的业务含义如图8所示。我们需在申请层和放贷层上评估稳定性。原因在于：</p>
<ul>
<li>虽然模型是基于放贷订单训练，但最终应用在申请层。</li>
<li>申请层和放贷层客群存在差异。</li>
</ul>
<p>当PSI曲线的趋势一直在上升时，我们就要分析原因，消除不稳定因素。排查方向可参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/86559671">特征稳定性指标(CSI)深入理解应用</a>》中的Part
4。</p>
<p>指标：PSI。可参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/79682292">群体稳定性指标(PSI)深入理解应用</a>》</p>
<p>示例：</p>
<p><img src="https://pic2.zhimg.com/80/v2-ed926c29a728c4e8f42b881af25c319d_1440w.png" alt="img">模型分数PSI计算结果表（申请+放贷）</p>
<figure>
<img src="https://pic1.zhimg.com/80/v2-b5e5d64f96906eeaa78e8ac6ebf80098_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h4><span id="152区分度discrimination">1.5.2
<strong>区分度（Discrimination）</strong></span></h4>
<p>业务：KS指标是风控建模同学最为追求的指标之一。通常情况下，KS越大，模型性能越好。但更需要分析KS不佳的原因，可结合ROC曲线进行辅助分析。</p>
<p>指标：Gini、AUC、KS。可参考《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/79934510">区分度评估指标(KS)深入理解应用</a>》
<img src="https://pic2.zhimg.com/80/v2-952042e2835b7a3b4458d3fd763b6e15_1440w.png" alt="img"></p>
<figure>
<img src="https://pic3.zhimg.com/80/v2-649ad86e09b8f5fc09dc224a6a1fb6ea_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h4><span id="153-排序性ranking">1.5.3 <strong>排序性（Ranking）</strong></span></h4>
<p><strong>业务</strong>：大部分模型在最终应用时只是利用到排序性，其主要是为了观察曲线的斜率。如图21所示的模型，排序性非常好，前5个分箱就能抓住大约77%的坏客户。</p>
<p><strong>指标：按自然月/样本集维度，统计包含bad_rate、lift、odds等指标的Gain
Table。</strong></p>
<blockquote>
<p><strong>lift = 召回样本的bad rate / 全部样本的bad rate</strong>
<strong>odds = bads / good</strong></p>
</blockquote>
<p>示例：模型分数Gain-Table</p>
<figure>
<img src="https://pic4.zhimg.com/80/v2-169d5023b834416495810435e8c9b11b_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h4><span id="154-拟合度goodness-offit">1.5.4 <strong>拟合度（Goodness of
Fit）</strong></span></h4>
<p><strong>业务</strong>：我们以训练集为基准，将模型分数划分成10个(或20个)分箱后，查看每个分箱里的reject
rate等指标是否一致。理论上，如果按每个Vintage绘制多条曲线，这些曲线会几乎重合，也就是围绕在训练集附近波动。此时，我们就可以相信模型在每一档的坏账估计比较准确。</p>
<p>指标：按自然月/样本集，评估每个分箱里lift、reject rate、bad
rate的点估计</p>
<p>示例：</p>
<figure>
<img src="https://pic2.zhimg.com/80/v2-32f4f004276a03f1adb5046d4ea40d91_1440w.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h3><span id="16-开源的风控建模工具包简介">1.6 开源的风控建模工具包简介</span></h3>
<p>前文主要介绍一些理论，接下来介绍目前一些开源的风控建模工具包。</p>
<blockquote>
<p>feature-selector scorecardpy toad</p>
</blockquote>
<h4><span id="161-feature-selector">1.6.1 <strong>feature-selector</strong></span></h4>
<ul>
<li>https://github.com/WillKoehrsen/feature-selector</li>
</ul>
<p><strong>主要功能：包括缺失率、单一值、相关性、特征重要性等。</strong></p>
<ol type="1">
<li>Missing Values</li>
<li>Single Unique Values</li>
<li>Collinear Features</li>
<li>Zero Importance Features</li>
<li>Low Importance Features</li>
</ol>
<h4><span id="162-scorecardpy">1.6.2 <strong>scorecardpy</strong></span></h4>
<ul>
<li>https://github.com/shichenxie/scorecardpy</li>
</ul>
<p><strong>主要功能：包括数据集划分、变量筛选、WOE分箱变换、评分卡尺度变换、模型性能评估。</strong></p>
<ol type="1">
<li>data partition (split_df)</li>
<li>variable selection (iv, var_filter)</li>
<li>weight of evidence (woe) binning (woebin, woebin_plot, woebin_adj,
woebin_ply)</li>
<li>scorecard scaling (scorecard, scorecard_ply)</li>
<li>performance evaluation (perf_eva, perf_psi)</li>
</ol>
<h4><span id="163-toad">1.6.3 <strong>toad</strong></span></h4>
<ul>
<li>https://toad.readthedocs.io/en/stable/tutorial_chinese.html</li>
</ul>
<p><strong>主要功能：包括数据分析处理、特征筛选、模型筛选、模型评估、评分卡尺度变换等。</strong></p>
<ol type="1">
<li>data handling</li>
<li>feature selection and WOE binning</li>
<li>model selection</li>
<li>results evaluation and model validation</li>
<li>scorecard transformation.</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>lzy
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://powerlzy.github.io/posts/29K9TF6/" title="风控算法（2）风控模型-开发流程标准化*">https://powerlzy.github.io/posts/29K9TF6/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/2105FD/" rel="prev" title="python-dict和set">
                  <i class="fa fa-chevron-left"></i> python-dict和set
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/ADDHH0/" rel="next" title="风控算法（2）风控模型-抽样对Lift和KS指标的影响">
                  风控算法（2）风控模型-抽样对Lift和KS指标的影响 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lzy</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>-->
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/01/2023 10:00:00"); //此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒.";
    }
setInterval("createtime()",250);
</script>

    </div>
  </footer>

  

  <a href="https://github.com/PowerLZY" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.4.3/mermaid.min.js","integrity":"sha256-e0o3JYsdjqKajf9eOe22FhioYSz9WofRY4dLKo3F6do="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>




        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        const hasAttr = (e,a) => a.some(_=> e.attr(_)!==undefined);
        $('a').each(function() {
          const $this = $(this);
          if(hasAttr($this,["data-fancybox","ignore-external-link"])) return;
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'powerlzy.github.io' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script></body>
</html>
